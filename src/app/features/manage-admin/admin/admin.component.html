<nav class="navbar navbar-light header-page">
  <div class="container-fluid">
    <a class="navbar-brand">Manage Admin
    </a>
  </div>
</nav>
<main class="container-fluid">
  <div class="d-flex align-items-center p-2 my-2 text-white rounded shadow-sm bg-primary">
    <div class="lh-1">
      <form class="col-12 col-lg-auto mb-1 mb-lg-0 me-lg-auto">
        <!-- <input type="search" #search (keyup)="filterByName(search.value)" class="form-control search-height" placeholder="Search..." aria-label="Search"> -->
      </form>
    </div>
    <div class="btn-group me-1 ml-auto">
      <button type="button" (click)="showAddAdmin()" class="btn btn-primary btn-sm">Add New</button>
    </div>
  </div>

  <div class="my-1 p-1 bg-body rounded shadow-sm">

    <p-table #dt [value]="data" [rows]="10" [paginator]="true" [responsive]="true" [globalFilterFields]="['name','country.name','representative.name','status']"
        [rowHover]="true" dataKey="id" styleClass="p-datatable-striped"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true">
        <ng-template pTemplate="header">
            <tr>
                <th pSortableColumn="AdminId">Id <p-sortIcon field="AdminId"></p-sortIcon></th>
                <th pSortableColumn="name">Name <p-sortIcon field="name"></p-sortIcon></th>
                <th pSortableColumn="fatherName">Father's Name</th>
                <th pSortableColumn="city">Village/City </th>
                <th pSortableColumn="mobile">Phone </th>
                <th pSortableColumn="mobile">Region </th>
                <th pSortableColumn="active">Active <p-sortIcon field="active"></p-sortIcon></th>

                <th>Action</th>

            </tr>
        </ng-template>

        <ng-template pTemplate="body" let-adminDetails>
            <tr>

                <td>{{adminDetails.id}}</td>
                <td>
                  <button class="link" routerLink="/app/profile/{{adminDetails._id}}">
                    {{adminDetails.name}}
                  </button>

                </td>

                <td>{{adminDetails.fatherName}}</td>
                <td>{{adminDetails.city}} </td>
                <td>{{adminDetails.mobile}}</td>
                <td>{{adminDetails.region}}</td>
                <td>
                  <div  class="status-toggle">
                    <input  type="checkbox" [(ngModel)]="adminDetails.active" id="status_1" class="check" checked>
                    <label  for="status_1" class="checktoggle">checkbox</label>
                  </div>
                  </td>
                  <td>
                    <button pButton pRipple icon="pi pi-pencil" style="    margin-right: 15px;" class="p-button-rounded p-button-success p-mr-2" ></button>
                    <!-- <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-danger p-mr-2" (click)="deleteAdmin()"></button> -->

                </td>
            </tr>
        </ng-template>

    </p-table>
  </div>
  </main>

<p-dialog [(visible)]="adminDialog" [style]="{width: '450px'}" header="Admin Details" [modal]="true" styleClass="p-fluid">
    <ng-template pTemplate="content">


      <form action="" [formGroup]="adminForm" (ngSubmit)='addAdmin()'>
        <div class="form-group row">
          <label for="name" class="col-sm-2 col-form-label">Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="name" name="name" placeholder=" Name"
              formControlName="name">
            <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">
  
              <div *ngIf="name.errors?.required">
                Name is required.
              </div>
            
            </div>
          </div>
        </div>
  
        <div class="form-group row">
          <label for="email" class="col-sm-2 col-form-label">Email</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="email" name="email" placeholder="Email" formControlName="email">
            <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
              <div *ngIf="email.errors?.required">
                email is required.
              </div>
            </div>
          </div>
        </div>
        
        <div class="form-group row">
          <label for="password" class="col-sm-2 col-form-label">password</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="password" name="password" placeholder="password"
              formControlName="password">
            <div *ngIf="password.invalid && (password.dirty || password.touched)" class="alert alert-danger">
              <div *ngIf="password.errors?.required">
                father Name is required.
              </div>
            </div>
          </div>
        </div>
        <br>
  
  <button type="submit">click me</button>
  
      </form>

    </ng-template>
  

</p-dialog>

<p-confirmDialog [style]="{width: '450px'}"></p-confirmDialog>
